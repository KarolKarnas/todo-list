(()=>{"use strict";const e=[{name:"FIX the World",todo:[{title:"Destroy AI",description:"Lorem ipsum dolor, sit amet consectetur adipisicing elit. Facere perferendis accusantium.",dueDate:"2023-02-03",priority:"Priority 1",checklist:!1},{title:"Rebuild Houses",description:"Atque nisi doloremque tempore dicta porro, dolorum consectetur veniam perspiciatis error?",dueDate:"2023-02-03",priority:"Priority 2",checklist:!0}]},{name:"Everyday Maintenance",todo:[{title:"Brush Teeth",description:"Dolorum amet soluta explicabo ratione! Ducimus, nam!",dueDate:"2023-02-03",priority:"Priority 3",checklist:!1},{title:"Meditation",description:"Nisi doloribus tempore dolorum nam soluta explicabo ratione! Ducimus, amet!",dueDate:"2023-02-03",priority:"Priority 4",checklist:!1}]}],t=document.querySelector("#submit-btn");t.addEventListener("click",(t=>{let o=((e,t,o,i)=>({title:e,description:t,dueDate:o,priority:i,checklist:!1}))(D.value,S.value,I.value,P.value);if(b.checked){let t={name:q.value,todo:[]};t.todo.push(o),e.push(t)}else g.checked&&e.forEach(((t,i)=>{t.name===x.value&&e[i].todo.push(o)}));console.table(e),m(),u(),document.querySelectorAll(".new-project").forEach((e=>{e.remove()})),p(),A(),j(),B(),L(modal),t.preventDefault()}));const o=document.querySelector("#edit-btn"),i=document.querySelector("#main"),d=document.querySelector("#ul-nav"),c=document.querySelector("#all-projects");let n=d.querySelectorAll("li");const l=document.createElement("h1");l.classList.add("project-title-header"),l.textContent="All Todo",i.appendChild(l);const a=document.createElement("div");a.classList.add("todo-container"),i.appendChild(a);const s=document.createElement("ul");function r(t){e[t].todo.forEach((i=>{const d=document.createElement("li");d.classList.add("todo-single"),s.appendChild(d);const c=document.createElement("div");c.classList.add("col-1"),d.appendChild(c);const n=document.createElement("div");n.classList.add("col-2"),d.appendChild(n);const l=document.createElement("div");l.classList.add("col-3"),d.appendChild(l);const a=document.createElement("input");a.setAttribute("type","checkbox"),a.classList.add("checkbox"),a.checked=i.checklist,!0===i.checklist&&d.classList.add("todo-done"),a.addEventListener("click",(()=>{d.classList.toggle("todo-done")})),c.appendChild(a);const r=document.createElement("div");r.classList.add("todo-title"),r.textContent=i.title,n.appendChild(r);const p=document.createElement("div");p.classList.add("todo-project-name"),p.textContent=e[t].name,n.appendChild(p);const y=document.createElement("div");y.classList.add("todo-description"),y.textContent=i.description,n.appendChild(y);const h=document.createElement("div");switch(h.classList.add("todo-priority"),i.priority){case"Priority 1":h.classList.add("todo-priority-1");break;case"Priority 2":h.classList.add("todo-priority-2");break;case"Priority 3":h.classList.add("todo-priority-3");break;case"Priority 4":h.classList.add("todo-priority-4")}h.textContent=i.priority,n.appendChild(h);const v=document.createElement("input");v.setAttribute("type","date"),v.value=i.dueDate,v.setAttribute("disabled",!0),l.appendChild(v);const L=document.createElement("div");L.classList.add("todo-icons-container"),l.appendChild(L);const f=document.createElement("i");f.textContent="edit",f.classList.add("material-symbols-outlined","todo-icon-edit"),f.addEventListener("click",(()=>{o.style.display="inherit",E(modal),function(t,o){q.value=e[t].name,x.value=e[t].name,D.value=o.title,S.value=o.description,I.value=o.dueDate,P.value=o.priority}(t,i);let d=e[t].todo.indexOf(i);console.log(d)})),L.appendChild(f);const C=document.createElement("i");C.textContent="delete",C.classList.add("material-symbols-outlined","todo-icon-delete"),C.addEventListener("click",(()=>{!function(t,o){let i=e[t].todo.indexOf(o);e[t].todo.splice(i,1)}(t,i),m(),u()})),L.appendChild(C)}))}function u(){e.forEach(((e,t)=>{r(t)}))}function m(){for(;s.firstChild;)s.removeChild(s.firstChild)}function p(){e.forEach(((e,t)=>{const o=document.createElement("li");o.textContent=e.name,o.classList.add("new-project"),c.insertAdjacentElement("afterend",o),n=d.querySelectorAll("li"),n.forEach((e=>{e.addEventListener("click",(e=>{n.forEach((e=>{e.classList.remove("li-active")})),e.target.classList.add("li-active")}))})),o.addEventListener("click",(()=>{l.textContent=e.name,m(),r(t)}))}))}s.classList.add("todo-list"),a.appendChild(s),document.querySelector("#li-all-todo").addEventListener("click",(()=>{m(),u()}));const y=document.querySelectorAll("[data-modal-target]"),h=document.querySelectorAll("[data-close-button]"),v=document.getElementById("overlay");function E(e){null!=e&&(e.classList.add("active"),v.classList.add("active"))}function L(e){null!=e&&(t.style.display="none",o.style.display="none",B(),e.classList.remove("active"),v.classList.remove("active"))}y.forEach((e=>{e.addEventListener("click",(()=>{const o=document.querySelector(e.dataset.modalTarget);t.style.display="inherit",E(o)}))})),v.addEventListener("click",(()=>{document.querySelectorAll(".modal.active").forEach((e=>{L(e)}))})),h.forEach((e=>{e.addEventListener("click",(()=>{L(e.closest(".modal"))}))}));const f=document.querySelectorAll('[name="projectOption"]'),C=document.getElementById("projectNameDiv"),k=document.getElementById("selectProjectDiv"),b=document.getElementById("projectNameOption"),g=document.getElementById("selectProjectOption"),q=document.getElementById("project-name"),x=document.getElementById("selectProject");f.forEach((e=>{e.addEventListener("change",(function(){"project-name"===this.value?(C.style.display="block",k.style.display="none"):"selectProject"===this.value&&(C.style.display="none",k.style.display="block")}))}));const j=function(){e.forEach((e=>{let t=document.createElement("option");t.textContent=e.name,t.setAttribute("value",`${e.name}`),x.appendChild(t)}))},A=function(){for(;x.firstChild;)x.removeChild(x.firstChild)},D=document.getElementById("todo-title"),S=document.getElementById("description"),I=document.getElementById("dueDate"),P=document.getElementById("priority"),B=function(){q.value="",D.value="",S.value="",I.value="",P.value="Priority 1"};u(),p(),j()})();