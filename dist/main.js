(()=>{"use strict";const e=[{name:"FIX the World",todo:[{title:"Destroy AI",description:"Lorem ipsum dolor, sit amet consectetur adipisicing elit. Facere perferendis accusantium.",dueDate:"2023-02-03",priority:"Priority 1",checklist:!1},{title:"Rebuild Houses",description:"Atque nisi doloremque tempore dicta porro, dolorum consectetur veniam perspiciatis error?",dueDate:"2023-02-03",priority:"Priority 2",checklist:!0}]},{name:"Everyday Maintenance",todo:[{title:"Brush Teeth",description:"Dolorum amet soluta explicabo ratione! Ducimus, nam!",dueDate:"2023-02-03",priority:"Priority 3",checklist:!1},{title:"Meditation",description:"Nisi doloribus tempore dolorum nam soluta explicabo ratione! Ducimus, amet!",dueDate:"2023-02-03",priority:"Priority 4",checklist:!1}]}],t=e=>({name:e,todo:[]}),o=(e,t,o,i)=>({title:e,description:t,dueDate:o,priority:i,checklist:!1}),i=document.querySelector("#submit-btn");i.addEventListener("click",(i=>{let c=o(O.value,w.value,N.value,T.value);if(j.checked){let o=t(S.value);o.todo.push(c),e.push(o)}else A.checked&&e.forEach(((t,o)=>{t.name===I.value&&e[o].todo.push(c)}));console.table(e),h(),v(),L(),E(),B(),P(),F(),g(modal),i.preventDefault()}));const c=document.querySelector("#edit-btn");let d,n;c.addEventListener("click",(i=>{M(n,d);let c=o(O.value,w.value,N.value,T.value);if(j.checked){let o=t(S.value);o.todo.push(c),e.push(o)}else A.checked&&e[n].todo.splice(d,0,c);console.table(e),h(),v(),L(),E(),B(),P(),F(),g(modal),i.preventDefault()}));const l=document.querySelector("#main"),a=document.querySelector("#ul-nav"),s=document.querySelector("#all-projects");let r=a.querySelectorAll("li");const u=document.createElement("h1");u.classList.add("project-title-header"),u.textContent="All Todo",l.appendChild(u);const m=document.createElement("div");m.classList.add("todo-container"),l.appendChild(m);const p=document.createElement("ul");function y(t){e[t].todo.forEach((o=>{const i=document.createElement("li");i.classList.add("todo-single"),p.appendChild(i);const l=document.createElement("div");l.classList.add("col-1"),i.appendChild(l);const a=document.createElement("div");a.classList.add("col-2"),i.appendChild(a);const s=document.createElement("div");s.classList.add("col-3"),i.appendChild(s);const r=document.createElement("input");r.setAttribute("type","checkbox"),r.classList.add("checkbox"),r.checked=o.checklist,!0===o.checklist&&i.classList.add("todo-done"),r.addEventListener("click",(()=>{i.classList.toggle("todo-done")})),l.appendChild(r);const u=document.createElement("div");u.classList.add("todo-title"),u.textContent=o.title,a.appendChild(u);const m=document.createElement("div");m.classList.add("todo-project-name"),m.textContent=e[t].name,a.appendChild(m);const y=document.createElement("div");y.classList.add("todo-description"),y.textContent=o.description,a.appendChild(y);const E=document.createElement("div");switch(E.classList.add("todo-priority"),o.priority){case"Priority 1":E.classList.add("todo-priority-1");break;case"Priority 2":E.classList.add("todo-priority-2");break;case"Priority 3":E.classList.add("todo-priority-3");break;case"Priority 4":E.classList.add("todo-priority-4")}E.textContent=o.priority,a.appendChild(E);const L=document.createElement("input");L.setAttribute("type","date"),L.value=o.dueDate,L.setAttribute("disabled",!0),s.appendChild(L);const f=document.createElement("div");f.classList.add("todo-icons-container"),s.appendChild(f);const C=document.createElement("i");C.textContent="edit",C.classList.add("material-symbols-outlined","todo-icon-edit"),C.addEventListener("click",(()=>{c.style.display="inherit",b(modal),function(t,o){S.value=e[t].name,I.value=e[t].name,O.value=o.title,w.value=o.description,N.value=o.dueDate,T.value=o.priority}(t,o),n=t,d=e[t].todo.indexOf(o)})),f.appendChild(C);const k=document.createElement("i");k.textContent="delete",k.classList.add("material-symbols-outlined","todo-icon-delete"),k.addEventListener("click",(()=>{n=t,d=e[t].todo.indexOf(o),M(n,d),h(),v()})),f.appendChild(k)}))}function v(){e.forEach(((e,t)=>{y(t)}))}function h(){for(;p.firstChild;)p.removeChild(p.firstChild)}function E(){e.forEach(((e,t)=>{const o=document.createElement("li");o.textContent=e.name,o.classList.add("new-project"),s.insertAdjacentElement("afterend",o),r=a.querySelectorAll("li"),r.forEach((e=>{e.addEventListener("click",(e=>{r.forEach((e=>{e.classList.remove("li-active")})),e.target.classList.add("li-active")}))})),o.addEventListener("click",(()=>{u.textContent=e.name,h(),y(t)}))}))}function L(){document.querySelectorAll(".new-project").forEach((e=>{e.remove()}))}p.classList.add("todo-list"),m.appendChild(p),document.querySelector("#li-all-todo").addEventListener("click",(()=>{h(),v()}));const f=document.querySelectorAll("[data-modal-target]"),C=document.querySelectorAll("[data-close-button]"),k=document.getElementById("overlay");function b(e){null!=e&&(e.classList.add("active"),k.classList.add("active"))}function g(e){null!=e&&(i.style.display="none",c.style.display="none",F(),e.classList.remove("active"),k.classList.remove("active"))}f.forEach((e=>{e.addEventListener("click",(()=>{const t=document.querySelector(e.dataset.modalTarget);i.style.display="inherit",b(t)}))})),k.addEventListener("click",(()=>{document.querySelectorAll(".modal.active").forEach((e=>{g(e)}))})),C.forEach((e=>{e.addEventListener("click",(()=>{g(e.closest(".modal"))}))}));const q=document.querySelectorAll('[name="projectOption"]'),x=document.getElementById("projectNameDiv"),D=document.getElementById("selectProjectDiv"),j=document.getElementById("projectNameOption"),A=document.getElementById("selectProjectOption"),S=document.getElementById("project-name"),I=document.getElementById("selectProject");q.forEach((e=>{e.addEventListener("change",(function(){"project-name"===this.value?(x.style.display="block",D.style.display="none"):"selectProject"===this.value&&(x.style.display="none",D.style.display="block")}))}));const P=function(){e.forEach((e=>{let t=document.createElement("option");t.textContent=e.name,t.setAttribute("value",`${e.name}`),I.appendChild(t)}))},B=function(){for(;I.firstChild;)I.removeChild(I.firstChild)},O=document.getElementById("todo-title"),w=document.getElementById("description"),N=document.getElementById("dueDate"),T=document.getElementById("priority"),F=function(){S.value="",O.value="",w.value="",N.value="",T.value="Priority 1"};function M(t,o){e[t].todo.splice(o,1)}v(),E(),P()})();