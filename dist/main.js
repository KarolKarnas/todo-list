(()=>{"use strict";const e=[{name:"FIX the World",todo:[{title:"Destroy AI",description:"Lorem ipsum dolor, sit amet consectetur adipisicing elit. Facere perferendis accusantium.",dueDate:"2023-02-03",priority:"Priority 1",checklist:!1},{title:"Rebuild Houses",description:"Atque nisi doloremque tempore dicta porro, dolorum consectetur veniam perspiciatis error?",dueDate:"2023-02-03",priority:"Priority 2",checklist:!0}]},{name:"Everyday Maintenance",todo:[{title:"Brush Teeth",description:"Dolorum amet soluta explicabo ratione! Ducimus, nam!",dueDate:"2023-02-03",priority:"Priority 3",checklist:!1},{title:"Meditation",description:"Nisi doloribus tempore dolorum nam soluta explicabo ratione! Ducimus, amet!",dueDate:"2023-02-03",priority:"Priority 4",checklist:!1}]}],t=document.querySelector("#submit-btn");t.addEventListener("click",(t=>{let o=((e,t,o,i)=>({title:e,description:t,dueDate:o,priority:i,checklist:!1}))(I.value,P.value,B.value,O.value);if(q.checked){let t={name:D.value,todo:[]};t.todo.push(o),e.push(t)}else x.checked&&e.forEach(((t,i)=>{t.name===j.value&&e[i].todo.push(o)}));console.table(e),y(),p(),document.querySelectorAll(".new-project").forEach((e=>{e.remove()})),v(),S(),A(),w(),C(modal),t.preventDefault()}));const o=document.querySelector("#edit-btn");let i,d;o.addEventListener("click",(e=>{N(d,i),e.preventDefault()}));const c=document.querySelector("#main"),n=document.querySelector("#ul-nav"),l=document.querySelector("#all-projects");let a=n.querySelectorAll("li");const s=document.createElement("h1");s.classList.add("project-title-header"),s.textContent="All Todo",c.appendChild(s);const r=document.createElement("div");r.classList.add("todo-container"),c.appendChild(r);const u=document.createElement("ul");function m(t){e[t].todo.forEach((c=>{const n=document.createElement("li");n.classList.add("todo-single"),u.appendChild(n);const l=document.createElement("div");l.classList.add("col-1"),n.appendChild(l);const a=document.createElement("div");a.classList.add("col-2"),n.appendChild(a);const s=document.createElement("div");s.classList.add("col-3"),n.appendChild(s);const r=document.createElement("input");r.setAttribute("type","checkbox"),r.classList.add("checkbox"),r.checked=c.checklist,!0===c.checklist&&n.classList.add("todo-done"),r.addEventListener("click",(()=>{n.classList.toggle("todo-done")})),l.appendChild(r);const m=document.createElement("div");m.classList.add("todo-title"),m.textContent=c.title,a.appendChild(m);const v=document.createElement("div");v.classList.add("todo-project-name"),v.textContent=e[t].name,a.appendChild(v);const h=document.createElement("div");h.classList.add("todo-description"),h.textContent=c.description,a.appendChild(h);const E=document.createElement("div");switch(E.classList.add("todo-priority"),c.priority){case"Priority 1":E.classList.add("todo-priority-1");break;case"Priority 2":E.classList.add("todo-priority-2");break;case"Priority 3":E.classList.add("todo-priority-3");break;case"Priority 4":E.classList.add("todo-priority-4")}E.textContent=c.priority,a.appendChild(E);const L=document.createElement("input");L.setAttribute("type","date"),L.value=c.dueDate,L.setAttribute("disabled",!0),s.appendChild(L);const C=document.createElement("div");C.classList.add("todo-icons-container"),s.appendChild(C);const k=document.createElement("i");k.textContent="edit",k.classList.add("material-symbols-outlined","todo-icon-edit"),k.addEventListener("click",(()=>{o.style.display="inherit",f(modal),function(t,o){D.value=e[t].name,j.value=e[t].name,I.value=o.title,P.value=o.description,B.value=o.dueDate,O.value=o.priority}(t,c),d=t,i=e[t].todo.indexOf(c)})),C.appendChild(k);const b=document.createElement("i");b.textContent="delete",b.classList.add("material-symbols-outlined","todo-icon-delete"),b.addEventListener("click",(()=>{d=t,i=e[t].todo.indexOf(c),N(d,i),y(),p()})),C.appendChild(b)}))}function p(){e.forEach(((e,t)=>{m(t)}))}function y(){for(;u.firstChild;)u.removeChild(u.firstChild)}function v(){e.forEach(((e,t)=>{const o=document.createElement("li");o.textContent=e.name,o.classList.add("new-project"),l.insertAdjacentElement("afterend",o),a=n.querySelectorAll("li"),a.forEach((e=>{e.addEventListener("click",(e=>{a.forEach((e=>{e.classList.remove("li-active")})),e.target.classList.add("li-active")}))})),o.addEventListener("click",(()=>{s.textContent=e.name,y(),m(t)}))}))}u.classList.add("todo-list"),r.appendChild(u),document.querySelector("#li-all-todo").addEventListener("click",(()=>{y(),p()}));const h=document.querySelectorAll("[data-modal-target]"),E=document.querySelectorAll("[data-close-button]"),L=document.getElementById("overlay");function f(e){null!=e&&(e.classList.add("active"),L.classList.add("active"))}function C(e){null!=e&&(t.style.display="none",o.style.display="none",w(),e.classList.remove("active"),L.classList.remove("active"))}h.forEach((e=>{e.addEventListener("click",(()=>{const o=document.querySelector(e.dataset.modalTarget);t.style.display="inherit",f(o)}))})),L.addEventListener("click",(()=>{document.querySelectorAll(".modal.active").forEach((e=>{C(e)}))})),E.forEach((e=>{e.addEventListener("click",(()=>{C(e.closest(".modal"))}))}));const k=document.querySelectorAll('[name="projectOption"]'),b=document.getElementById("projectNameDiv"),g=document.getElementById("selectProjectDiv"),q=document.getElementById("projectNameOption"),x=document.getElementById("selectProjectOption"),D=document.getElementById("project-name"),j=document.getElementById("selectProject");k.forEach((e=>{e.addEventListener("change",(function(){"project-name"===this.value?(b.style.display="block",g.style.display="none"):"selectProject"===this.value&&(b.style.display="none",g.style.display="block")}))}));const A=function(){e.forEach((e=>{let t=document.createElement("option");t.textContent=e.name,t.setAttribute("value",`${e.name}`),j.appendChild(t)}))},S=function(){for(;j.firstChild;)j.removeChild(j.firstChild)},I=document.getElementById("todo-title"),P=document.getElementById("description"),B=document.getElementById("dueDate"),O=document.getElementById("priority"),w=function(){D.value="",I.value="",P.value="",B.value="",O.value="Priority 1"};function N(t,o){e[t].todo.splice(o,1)}p(),v(),A()})();